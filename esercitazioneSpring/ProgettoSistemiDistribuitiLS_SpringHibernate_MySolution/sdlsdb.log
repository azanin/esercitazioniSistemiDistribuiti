CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
CONNECT USER SA
create table authors (author_id integer generated by default as identity (start with 1), name varchar(255), primary key (author_id))
create table books (book_id integer generated by default as identity (start with 1), isbn10 varchar(255), isbn13 varchar(255), title varchar(255), publisher_id integer, primary key (book_id))
create table books_authors (book_id integer not null, author_id integer not null, primary key (book_id, author_id))
create table publishers (publisher_id integer generated by default as identity (start with 1), name varchar(255), primary key (publisher_id))
alter table books add constraint FK59922AAAD20169D foreign key (publisher_id) references publishers
alter table books_authors add constraint FK4ECF8FB36177B4D7 foreign key (book_id) references books
alter table books_authors add constraint FK4ECF8FB3C0489E57 foreign key (author_id) references authors
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(1,'Manning')
INSERT INTO AUTHORS VALUES(1,'Craig Walls')
INSERT INTO AUTHORS VALUES(2,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(3,'Norman Richards')
INSERT INTO BOOKS VALUES(1,'123456789','987654321','Spring in Action',1)
INSERT INTO BOOKS VALUES(2,'123456789','987654321','XDoclet in Action',1)
ROLLBACK
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(2,'Manning')
INSERT INTO AUTHORS VALUES(4,'Craig Walls')
INSERT INTO AUTHORS VALUES(5,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(6,'Norman Richards')
INSERT INTO BOOKS VALUES(3,'123456789','987654321','Spring in Action',2)
INSERT INTO BOOKS VALUES(4,'123456789','987654321','XDoclet in Action',2)
INSERT INTO BOOKS_AUTHORS VALUES(4,4)
INSERT INTO BOOKS_AUTHORS VALUES(4,6)
DELETE FROM BOOKS WHERE BOOK_ID=3
ROLLBACK
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(3,'Manning')
INSERT INTO AUTHORS VALUES(7,'Craig Walls')
INSERT INTO AUTHORS VALUES(8,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(9,'Norman Richards')
INSERT INTO BOOKS VALUES(5,'123456789','987654321','Spring in Action',3)
INSERT INTO BOOKS VALUES(6,'123456789','987654321','XDoclet in Action',3)
INSERT INTO BOOKS_AUTHORS VALUES(6,9)
INSERT INTO BOOKS_AUTHORS VALUES(6,7)
DELETE FROM BOOKS WHERE BOOK_ID=5
ROLLBACK
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(4,'Manning')
INSERT INTO AUTHORS VALUES(10,'Craig Walls')
INSERT INTO AUTHORS VALUES(11,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(12,'Norman Richards')
INSERT INTO BOOKS VALUES(7,'123456789','987654321','Spring in Action',4)
INSERT INTO BOOKS VALUES(8,'123456789','987654321','XDoclet in Action',4)
INSERT INTO BOOKS_AUTHORS VALUES(7,10)
INSERT INTO BOOKS_AUTHORS VALUES(7,11)
INSERT INTO BOOKS_AUTHORS VALUES(8,10)
INSERT INTO BOOKS_AUTHORS VALUES(8,12)
ROLLBACK
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(5,'Manning')
INSERT INTO AUTHORS VALUES(13,'Craig Walls')
INSERT INTO AUTHORS VALUES(14,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(15,'Norman Richards')
INSERT INTO BOOKS VALUES(9,'123456789','987654321','Spring in Action',5)
INSERT INTO BOOKS VALUES(10,'123456789','987654321','XDoclet in Action',5)
ROLLBACK
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(6,'Manning')
INSERT INTO AUTHORS VALUES(16,'Craig Walls')
INSERT INTO AUTHORS VALUES(17,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(18,'Norman Richards')
INSERT INTO BOOKS VALUES(11,'123456789','987654321','Spring in Action',6)
INSERT INTO BOOKS VALUES(12,'123456789','987654321','XDoclet in Action',6)
ROLLBACK
SET AUTOCOMMIT TRUE
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(7,'Manning')
INSERT INTO AUTHORS VALUES(19,'Craig Walls')
INSERT INTO AUTHORS VALUES(20,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(21,'Norman Richards')
INSERT INTO BOOKS VALUES(13,'123456789','987654321','Spring in Action',7)
INSERT INTO BOOKS VALUES(14,'123456789','987654321','XDoclet in Action',7)
ROLLBACK
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(8,'Manning')
INSERT INTO AUTHORS VALUES(22,'Craig Walls')
INSERT INTO AUTHORS VALUES(23,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(24,'Norman Richards')
INSERT INTO BOOKS VALUES(15,'123456789','987654321','Spring in Action',8)
INSERT INTO BOOKS VALUES(16,'123456789','987654321','XDoclet in Action',8)
INSERT INTO BOOKS_AUTHORS VALUES(16,24)
INSERT INTO BOOKS_AUTHORS VALUES(16,22)
DELETE FROM BOOKS WHERE BOOK_ID=15
ROLLBACK
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(9,'Manning')
INSERT INTO AUTHORS VALUES(25,'Craig Walls')
INSERT INTO AUTHORS VALUES(26,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(27,'Norman Richards')
INSERT INTO BOOKS VALUES(17,'123456789','987654321','Spring in Action',9)
INSERT INTO BOOKS VALUES(18,'123456789','987654321','XDoclet in Action',9)
INSERT INTO BOOKS_AUTHORS VALUES(18,27)
INSERT INTO BOOKS_AUTHORS VALUES(18,25)
DELETE FROM BOOKS WHERE BOOK_ID=17
ROLLBACK
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(10,'Manning')
INSERT INTO AUTHORS VALUES(28,'Craig Walls')
INSERT INTO AUTHORS VALUES(29,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(30,'Norman Richards')
INSERT INTO BOOKS VALUES(19,'123456789','987654321','Spring in Action',10)
INSERT INTO BOOKS VALUES(20,'123456789','987654321','XDoclet in Action',10)
INSERT INTO BOOKS_AUTHORS VALUES(19,28)
INSERT INTO BOOKS_AUTHORS VALUES(19,29)
INSERT INTO BOOKS_AUTHORS VALUES(20,28)
INSERT INTO BOOKS_AUTHORS VALUES(20,30)
ROLLBACK
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(11,'Manning')
INSERT INTO AUTHORS VALUES(31,'Craig Walls')
INSERT INTO AUTHORS VALUES(32,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(33,'Norman Richards')
INSERT INTO BOOKS VALUES(21,'123456789','987654321','Spring in Action',11)
INSERT INTO BOOKS VALUES(22,'123456789','987654321','XDoclet in Action',11)
ROLLBACK
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PUBLISHERS VALUES(12,'Manning')
INSERT INTO AUTHORS VALUES(34,'Craig Walls')
INSERT INTO AUTHORS VALUES(35,'Ryan Breidenbach')
INSERT INTO AUTHORS VALUES(36,'Norman Richards')
INSERT INTO BOOKS VALUES(23,'123456789','987654321','Spring in Action',12)
INSERT INTO BOOKS VALUES(24,'123456789','987654321','XDoclet in Action',12)
ROLLBACK
SET AUTOCOMMIT TRUE
DISCONNECT
